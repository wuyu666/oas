<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper
  PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
  "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
  <mapper namespace="com.chinasofti.oas.mapper.INoticeMapper">
  	<resultMap type="notice" id="noticeResults">
  		<id column="nid" property="nid"/>
  		<result column="nrange" property="nrange"/>
  		<result column="ntheme" property="ntheme"/>
  		<result column="ncontent" property="ncontent"/>
  		<result column="ntime" property="ntime"/>
  	</resultMap>
  	<select id="queryNotice" parameterType="Map" resultMap="noticeResults">
  		select * from t_notice
  		<include refid="no1" />
  		<if test="start !=null and size !=null">
            limit #{start},#{size}
        </if>
  	</select>
  	<sql id="no1">
  		<where>
  			<if test="nrange !=null and nrange != '' ">
  				nrange=#{nrange}
  			</if>
  		</where>
  	</sql>
  	<select id="queryCount" parameterType="Map" resultMap="Long">
  		select count(*) from t_notice
  		<include refid="no1" />
  	</select>
  		
  	
  </mapper>